jQuery(document).ready(function(a){var b=function(a,b){var c=(a-b)/1e3,d=Math.floor(c/60);return 0===d?"less than a minute ago":1==d?"a minute ago":45>d?d+" minutes ago":90>d?"about 1 hour ago":1440>d?"about "+Math.floor(d/60)+" hours ago":2880>d?"1 day ago":43200>d?Math.floor(d/1440)+" days ago":86400>d?"about 1 month ago":525960>d?Math.floor(d/43200)+" months ago":1051199>d?"about 1 year ago":"over "+Math.floor(d/525960)+" years ago"},c=0,d=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e=function(b,c,e){var f={sparkLineDataWeek:[],sparkLineDataMonth:[],sparkLineDataYear:[]},g=0,h=0,i=[],j=0;a.each(b,function(a,b){i.push({date:a,count:b}),j=Math.max(j,b)});for(var k=i.length;k--;)h+=parseInt(i[k].count,10),0===g&&(f.oneDay=h),6===g&&(f.week=h),29===g&&(f.month=h),363===g&&(f.year=h),363>=g&&f.sparkLineDataYear.push(Math.round(100*(i[k].count/j))),30>g&&f.sparkLineDataMonth.push(Math.round(100*(i[k].count/j))),7>g&&f.sparkLineDataWeek.push(Math.round(100*(i[k].count/j))),g++;var l="";l+="Average "+d(Math.round(h/g))+" downloads per day",e.find(".wordpress-box-download .downloads").html(l)},f=function(c,d){if(null!==c){var e=new Date(c.last_updated),f=b(new Date,e),g=e.toDateString();d.find(".updated").html("Plugin last updated "+f+" ("+g+")");var h,i=c.contributors;for(h in i)break;d.find(".owner").text(h).attr("href","http://profiles.wordpress.org/"+h),d.find(".ownerRepoSpace").text(" by "),d.find(".repo").text(c.name);var j=5*(c.rating/100),k=92*(c.rating/100),l=j.toFixed(1)+" stars";d.find(".wordpress-stars").text(l).css("width",k),d.find(".wordpress-stars-wrap").attr("title",l),d.find(".wordpress-rating").html("From "+c.num_ratings+(1===c.num_ratings?" user.":" users.")),d.find(".description span").html(c.short_description),d.find(".link").append(a("<a />").attr("href",c.homepage).text(c.homepage)),d.find(".download").attr("href",c.download_link),d.addClass("is-loaded")}};a(".wordpress-widget").each(function(){0===c&&a("head").append('<style type="text/css">.wordpress-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.wordpress-box a{color:#4183c4;border:0;text-decoration:none}.wordpress-box .wordpress-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);background: #222;color:#ddd;}.wordpress-box-title a { color: #ddd;}.wordpress-box-title a:hover { color: #2faadd;}.wordpress-box .wordpress-box-title h3{font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0 115px 0 0;padding:10px;}.wordpress-box .wordpress-box-title h3 .repo{font-weight:bold}.wordpress-box .wordpress-box-title .wordpress-stats{position:absolute;top:4px;right:10px;xbackground:white;xborder:1px solid #ddd;border-radius:3px;font-size:11px;xfont-weight:bold;line-height:18px;height:18px;padding:0 .5em}.wordpress-box .wordpress-box-title .wordpress-stats a{display:inline-block;height:21px;color:#666;padding:0 5px 0 18px;}.wordpress-box .wordpress-box-content{padding:10px;font-weight:300;min-height:4.1em;}.wordpress-box .wordpress-box-content p{margin:0}.wordpress-box .wordpress-box-content .link{font-weight:bold}.wordpress-box .wordpress-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:10px;min-height:24px}.wordpress-box .wordpress-box-download .updated, .wordpress-box .wordpress-box-download .downloads{margin:0;font-size:11px;color:#666;line-height:18px;font-weight:300}.wordpress-box .wordpress-box-download .updated strong{font-weight:bold;color:#000}.wordpress-box .wordpress-box-download .download{position:absolute;display:block;top:14px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.wordpress-box .wordpress-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);}.wordpress-stars-wrap, .wordpress-stars {background:url(http://wordpress.org/extend/plugins-plugins/bb-ratings/stars.png) bottom left;line-height:17px;}.wordpress-stars-wrap {width:92px;height:17px;position:relative;overflow:hidden;}.wordpress-stars {background-position:top left;width:0;height:17px;float:left;text-indent:100%;}.wordpress-stats, .wordpress-box-download, .wordpress-box-content { opacity:0; transition: all .25s ease-in-out; -webkit-transition: all .25s ease-in-out;}.wordpress-box.is-loaded .wordpress-stats, .wordpress-box.is-loaded .wordpress-box-download, .wordpress-box.is-loaded .wordpress-box-content { opacity:1; }</style>'),c++;var b,d=a(this),g=d.data("slug"),h="http://wordpress.org/plugins/"+g+"/";b=a('<div class="wordpress-box"><div class="wordpress-box-title"><h3><a class="repo" href="'+h+'">'+"&nbsp;</a>"+'<span class="ownerRepoSpace"></span>'+'<a class="owner" href=""></a>'+"</h3>"+'<div class="wordpress-stats">'+'<div class="wordpress-stars-wrap"><div class="wordpress-stars"></div></div>'+'<div class="wordpress-rating"></div>'+"</div>"+"</div>"+'<div class="wordpress-box-content">'+'<p class="description"><span></span> &mdash; <a href="'+h+'">Read More</a></p>'+'<p class="link"></p>'+"</div>"+'<div class="wordpress-box-download">'+'<p class="updated"></p>'+'<p class="downloads"></p>'+'<a class="download" href="'+'">Download as zip</a>'+"</div>"+"</div>"),b.appendTo(d);var i="wp_plugin_widget_"+Math.random().toString(36).replace(/[^a-z+]+/g,"");window[i]=function(a){f(a,b)};var j="http://api.wordpress.org/plugins/info/1.0/"+g+".jsonp="+i+"&?";a.ajax({url:j,dataType:"jsonp",jsonp:" "});var k="http://api.wordpress.org/stats/plugin/1.0/downloads.php?slug="+g+"&limit=365&callback=?";a.ajax({url:k,dataType:"jsonp",success:function(a,c){e(a,c,b)}})})});